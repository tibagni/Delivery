function startLoading() {	
	// loading
	$.modal('<p style=\"text-align:center;color:#FFF;\">Carregando...<p><img src=\"' + getLoadingImg() + '\" />', 
			{overlayCss: {backgroundColor:"#000"}});
};

$.fn.exists = function () {
    return this.length !== 0;
};

function isEmailValid(sEmail) {
    var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
    if (filter.test(sEmail)) {
        return true;
    }
    else {
        return false;
    }
};

function isCPFValid(cpf) {
	cpf = cpf.replace("-", "");
	cpf = cpf.replace(/\./g, "");

	if (cpf.length != 11 || cpf == "00000000000" || cpf == "11111111111"
			|| cpf == "22222222222" || cpf == "33333333333"
			|| cpf == "44444444444" || cpf == "55555555555"
			|| cpf == "66666666666" || cpf == "77777777777"
			|| cpf == "88888888888" || cpf == "99999999999") {
		return false;
	}
	    var numeros, digitos, soma, i, resultado, digitos_iguais;
	digitos_iguais = 1;
	if (cpf.length < 11)
		return false;
	for (i = 0; i < cpf.length - 1; i++)
		if (cpf.charAt(i) != cpf.charAt(i + 1)) {
			digitos_iguais = 0;
			break;
		}
	if (!digitos_iguais) {
		numeros = cpf.substring(0, 9);
		digitos = cpf.substring(9);
		soma = 0;
		for (i = 10; i > 1; i--)
			soma += numeros.charAt(10 - i) * i;
		resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
		if (resultado != digitos.charAt(0))
			return false;
		numeros = cpf.substring(0, 10);
		soma = 0;
		for (i = 11; i > 1; i--)
			soma += numeros.charAt(11 - i) * i;
		resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
		if (resultado != digitos.charAt(1))
			return false;
		return true;
	} else
		return false;
};

function setCurrentMainPage(page) {
	$("div#mainArea").attr("title", page);
}

function isCurrentMainPage(page) {
	var current = $("div#mainArea").attr("title");
	if (current == page) {
		return true;
	}
	return false;
}

function notifyNewOrder() {
	var countStr = $("#orderManagerLink").html();
	var currentCount = countStr.substring(1, countStr.length - 1);
	
	currentCount++;
	$("#orderManagerLink").html("[" + currentCount + "]");
}

function handleUnauthorizedError() {
	$("div#MainArea").load('PageLoader?page=Login');
	// Identifica, na div, qual e a pagina ativa no momento
	$("div#mainArea").attr("title", "Login");
}

function isEmpty(string) {
	if (string == null || string == '') {
		return true;
	}
	return false;
}